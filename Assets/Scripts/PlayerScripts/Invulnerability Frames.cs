using System.Collections;
using UnityEngine;

public class InvulnerabilityFrames : MonoBehaviour
{
    [SerializeField] private float iFramesDuration;
    [SerializeField] private int numberOfFlashes;

    [SerializeField] private GameObject frog;
    private SpriteRenderer spriteRenderer;

    private void Start()
    {
        spriteRenderer = frog.GetComponent<SpriteRenderer>();
    }

    public IEnumerator IFramesStart()
    {
        Physics2D.IgnoreLayerCollision(7, 8, true);
        for (int i = 0; i < numberOfFlashes; i++)
        {
            spriteRenderer.color = new Color(1f, 1f, 1f, 0.5f);
            yield return new WaitForSeconds(iFramesDuration / (numberOfFlashes * 2));
            spriteRenderer.color = Color.white;
            yield return new WaitForSeconds(1);

            Physics2D.IgnoreLayerCollision(7, 8, false);


        }
    }
}

